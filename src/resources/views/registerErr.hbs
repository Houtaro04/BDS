<div id="registerFailedPopup" class="popup-form">
  <div class="popup-content">
    <span class="close" onclick="closePopup('registerFailedPopup')">&times;</span>
    <p class="error-message">Đăng ký thất bại: Nickname đã được sử dụng.</p>
    <p class="register-link">Quay lại trang
    <a href="./register" onclick="switchToRegister()"> Đăng Ký</a></p>
  </div>
</div>

<script>

  function openRegisterPopup() {
    document.getElementById('registerPopup').style.display = 'block';
  }

  function openLoginPopup() {
    document.getElementById('loginPopup').style.display = 'block';
  }

  function closePopup(popupId) {
    document.getElementById(popupId).style.display = 'none';
  }

  function switchToRegister() {
    closePopup('loginPopup');
    openRegisterPopup();
  }

  function switchToLogin() {
    closePopup('registerPopup');
    openLoginPopup();
  }

  // Tự động mở popup đăng ký nếu đường dẫn là /register
window.onload = function () {
    const path = window.location.pathname;
    if (path === '/register') {
      openRegisterPopup();
    } else if (path === '/login') {
      openLoginPopup();
    }
  };

  function openRegisterFailedPopup() {
    document.getElementById('registerFailedPopup').style.display = 'block';
  }

  function closePopup(popupId) {
    document.getElementById(popupId).style.display = 'none';
  }

  // Tự động mở popup thông báo lỗi nếu đường dẫn là /loginErr
  window.onload = function () {
    const path = window.location.pathname;
    if (path === '/registerErr') {
      openRegisterFailedPopup();
    }
  };
</script>